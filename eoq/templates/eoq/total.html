{% extends parent_template|default:"base.html" %}

{% block title %}
{{ block.super }} - Excel Total
{% endblock %}

{% block content %}
<div class="container">
	<p> Reorder Cost = {{ reorder }}</p>
	<p> Holding Costs = {{ holding_cost }} per unit</p>
<!--	<ul>
		{% for cell in cells %}
			<li>
			{{ cell }}
			</li>
		{% endfor %}
		</ul>
-->
	<p>
		Average number of sales = {{ average }}
	</p>
	<ul>
		<li>
			Economic order quantity = {{ eoq }} units
		</li>	
	</ul>
	<div class="chart">
		<p>
			Break down of sales. 
		</p>
	</div>
	<script type="text/javascript">
		var dataset = {{ cells }}

		var yScale = d3.scaleLinear()
			.domain([0, d3.max(dataset)])
			.range([0,250])

		var yAxis = d3.axisLeft()
						.scale(yScale);

		d3.select("div.chart")
			.selectAll("svg")
			.data(dataset)
			.enter()
			.append("svg")
			.attr("class", "bar")	
			.style("display", "inline-block")
			.style("background-color", "teal")
			.style("width", "20px")
			.style("margin", "5px")
			.style("height", function(d){
				return yScale(d);
			})
			.append("g")
			.attr("class", "axis")
			.call(yAxis);
	</script>
</div>
{% endblock %}